"use strict";(self.webpackChunksynthex_docs=self.webpackChunksynthex_docs||[]).push([[123],{262:(e,n,t)=>{t.d(n,{oH:()=>o,et:()=>d,ND:()=>l,NZ:()=>s});var r=t(4848);let a=function(e){return e.SUCCESS="success",e.DANGER="danger",e.WARNING="warning",e.INFO="info",e}({});const i=({type:e,children:n})=>(0,r.jsx)("div",{className:`badge badge-${e}`,children:n}),s=({children:e})=>(0,r.jsx)(i,{type:a.INFO,children:e}),l=()=>(0,r.jsx)(i,{type:a.WARNING,children:"optional"}),o=({value:e})=>(0,r.jsx)(i,{type:a.SUCCESS,children:(0,r.jsxs)(r.Fragment,{children:["default: ",e]})}),d=()=>(0,r.jsx)(i,{type:a.DANGER,children:"nullable"})},1470:(e,n,t)=>{t.d(n,{A:()=>w});var r=t(6540),a=t(4164),i=t(3104),s=t(6347),l=t(205),o=t(7485),d=t(1682),u=t(679);function c(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return c(e).map((({props:{value:e,label:n,attributes:t,default:r}})=>({value:e,label:n,attributes:t,default:r})))}(t);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p({value:e,tabValues:n}){return n.some((n=>n.value===e))}function f({queryString:e=!1,groupId:n}){const t=(0,s.W6)(),a=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,o.aZ)(a),(0,r.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(t.location.search);n.set(a,e),t.replace({...t.location,search:n.toString()})}),[a,t])]}function x(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,i=h(e),[s,o]=(0,r.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find((e=>e.default))??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:i}))),[d,c]=f({queryString:t,groupId:a}),[x,m]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,a]=(0,u.Dv)(n);return[t,(0,r.useCallback)((e=>{n&&a.set(e)}),[n,a])]}({groupId:a}),b=(()=>{const e=d??x;return p({value:e,tabValues:i})?e:null})();(0,l.A)((()=>{b&&o(b)}),[b]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);o(e),c(e),m(e)}),[c,m,i]),tabValues:i}}var m=t(2303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=t(4848);function j({className:e,block:n,selectedValue:t,selectValue:r,tabValues:s}){const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,i.a_)(),d=e=>{const n=e.currentTarget,a=l.indexOf(n),i=s[a].value;i!==t&&(o(n),r(i))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},e),children:s.map((({value:e,label:n,attributes:r})=>(0,g.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{l.push(e)},onKeyDown:u,onClick:d,...r,className:(0,a.A)("tabs__item",b.tabItem,r?.className,{"tabs__item--active":t===e}),children:n??e},e)))})}function v({lazy:e,children:n,selectedValue:t}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find((e=>e.props.value===t));return e?(0,r.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function y(e){const n=x(e);return(0,g.jsxs)("div",{className:(0,a.A)("tabs-container",b.tabList),children:[(0,g.jsx)(j,{...n,...e}),(0,g.jsx)(v,{...n,...e})]})}function w(e){const n=(0,m.A)();return(0,g.jsx)(y,{...e,children:c(e.children)},String(n))}},1797:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>f,contentTitle:()=>p,default:()=>b,frontMatter:()=>h,metadata:()=>r,toc:()=>x});const r=JSON.parse('{"id":"guardrail/train","title":"Artifex \u2013 Train Chatbot Guardrail Models without training data","description":"Learn how to use Artifex to train Chatbot Guardrail Models without training data, ensuring safe and reliable AI outputs.","source":"@site/docs-artifex/guardrail/train.mdx","sourceDirName":"guardrail","slug":"/guardrail/train","permalink":"/artifex/guardrail/train","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Artifex \u2013 Train Chatbot Guardrail Models without training data","description":"Learn how to use Artifex to train Chatbot Guardrail Models without training data, ensuring safe and reliable AI outputs.","keywords":["artifex","tanaos","task specific llm","nlp","text classification","no training data","guardrail models","chatbot guardrail"],"hide_table_of_contents":true},"sidebar":"sidebar","previous":{"title":"Introduction","permalink":"/artifex/guardrail/intro"},"next":{"title":"Inference","permalink":"/artifex/guardrail/inference"}}');var a=t(4848),i=t(8453),s=t(8774),l=t(1470),o=t(9365),d=t(3840),u=t(8738),c=t(262);const h={title:"Artifex \u2013 Train Chatbot Guardrail Models without training data",description:"Learn how to use Artifex to train Chatbot Guardrail Models without training data, ensuring safe and reliable AI outputs.",keywords:["artifex","tanaos","task specific llm","nlp","text classification","no training data","guardrail models","chatbot guardrail"],hide_table_of_contents:!0},p="Train Guardrail",f={},x=[];function m(e){const n={br:"br",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)("div",{className:"responsive-container",children:[(0,a.jsxs)("div",{className:"text-container",children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"train-guardrail",children:"Train Guardrail"})}),(0,a.jsxs)(n.p,{children:["Train a Guardrail model. ",(0,a.jsx)(n.strong,{children:"No training data is needed"}),", as the model uses\n",(0,a.jsx)(s.A,{to:u.DB,children:(0,a.jsx)(n.code,{children:"synthex.jobs.generate_data()"})})," under the\nhood to generate a synthetic training dataset based on the provided requirements."]}),(0,a.jsx)(n.p,{children:"Training can be performed on both:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"An untrained base model:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"Artifex().guardrail.train()\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"A model that was previously trained with Artifex, in order to train it further:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'Artifex().guardrail.load("trained/model/path").train()\n'})}),"\n",(0,a.jsxs)(n.p,{children:["For more information on the ",(0,a.jsx)(n.code,{children:"load()"})," method, see the\n",(0,a.jsxs)(s.A,{to:u.vB,children:[(0,a.jsx)(n.code,{children:"load()"})," method documentation"]}),"."]}),"\n"]}),"\n"]}),(0,a.jsx)(d.e,{title:"Arguments",children:(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"instructions"})," ",(0,a.jsx)(c.NZ,{children:"list[str]"}),(0,a.jsx)(n.br,{}),"\n","A list of strings, where each string describes a something that the Guardrail should prevent\nthe chatbot from doing, or allow it to do."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"output_path"})," ",(0,a.jsx)(c.NZ,{children:"str"})," ",(0,a.jsx)(c.ND,{}),(0,a.jsx)(n.br,{}),"\n","A string which specifies the path where the output files will be generated. The output files consist of:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"The training dataset"}),"\n",(0,a.jsxs)(n.li,{children:["The output model ",(0,a.jsx)(n.code,{children:"safetensor"})," and configuration files"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"num_samples"})," ",(0,a.jsx)(c.NZ,{children:"int"})," ",(0,a.jsx)(c.ND,{})," ",(0,a.jsx)(c.oH,{value:"500"}),(0,a.jsx)(n.br,{}),"\n","An integer which specifies the number of datapoints that the synthetic training dataset should consist of, and\nthat the model will be trained on. The maximum number of datapoints you can train your model on depends on\nwhether you are on a free or paid plan."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"num_epochs"})," ",(0,a.jsx)(c.NZ,{children:"str"})," ",(0,a.jsx)(c.ND,{})," ",(0,a.jsx)(c.oH,{value:"3"}),(0,a.jsx)(n.br,{}),"\n","An integer which specifies the number of epochs to train the model for."]}),"\n"]})})]}),(0,a.jsxs)("div",{className:"code-container",children:[(0,a.jsx)("div",{className:"tabs-code",children:(0,a.jsx)(l.A,{children:(0,a.jsx)(o.A,{value:"python",label:"Python",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'from artifex import Artifex\n\nguardrail = Artifex().guardrail\n\n"""\nIf you want to fine-tune an already trained model, \nload it first:\n\nguardrail.load("path/to/trained/model")\n"""\n\nguardrail.train(\n    instructions=[\n        "Soft medical advice is allowed, but it should be general and not specific to any individual.",\n        "Anything that is about cosmetic products, including available products or their usage, is allowed.",\n        "Anything else, including hard medical advice, is not allowed under any circumstances.",\n    ]\n)\n'})})})})}),(0,a.jsx)("div",{className:"tabs-code",children:(0,a.jsx)(l.A,{groupId:"language",children:(0,a.jsx)(o.A,{value:"response",label:"Response",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"None\n"})})})})})]})]})}function b(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(m,{...e})}):m(e)}},3840:(e,n,t)=>{t.d(n,{e:()=>a});var r=t(4848);const a=({title:e,children:n})=>(0,r.jsxs)("div",{className:"api-description-section",children:[(0,r.jsx)("h4",{children:e}),(0,r.jsx)("hr",{}),n]})},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>l});var r=t(6540);const a={},i=r.createContext(a);function s(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(i.Provider,{value:n},e.children)}},9365:(e,n,t)=>{t.d(n,{A:()=>s});t(6540);var r=t(4164);const a={tabItem:"tabItem_Ymn6"};var i=t(4848);function s({children:e,hidden:n,className:t}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,t),hidden:n,children:e})}}}]);